# 작업 진행상황

## 프로젝트 개요
- Spring Boot 3.5.8 + MyBatis REST API 서버, 기본 DB는 MySQL(`nutricare_db`).
- JWT 인증/인가와 Swagger(OpenAPI 2.6.0) 설정 완료, Bearer 스키마 포함.
- 주요 도메인: 회원(User), 게시판(Board/Comment/BoardImage), 파일 업로드; DB 스키마에는 건강/식단 관련 테이블(health_profile, diet_*)도 정의됨.

## 코드 구성(핵심 경로)
- `src/main/java/com/nutricare/config`: MyBatis 스캔, Swagger, WebMvc(정적 리소스 매핑, 인터셉터) 설정, BCrypt PasswordEncoder 빈.
- `src/main/java/com/nutricare/interceptor`: JWT 검증, 관리자 권한 검증 인터셉터.
- `src/main/java/com/nutricare/controller`: 회원/관리자, 게시판, 댓글, 파일 업로드 REST 컨트롤러.
- `src/main/java/com/nutricare/model`: dto/dao/service 계층, MyBatis 매퍼(`src/main/resources/mappers/*.xml`) 연동.
- `src/main/java/com/nutricare/util/JwtUtil`: HS256 서명 JWT 생성·파싱, 기본 만료 1시간.
- 설정 파일: `src/main/resources/application.properties` (로컬 MySQL, 매퍼 위치, 멀티파트 용량 등).

## 구현된 기능
- 회원: 회원가입(BCrypt 해시 저장), 로그인(JWT 발급), 내 정보 조회/수정/탈퇴, 로그아웃 응답; 관리자용 전체 회원 조회.
- 인증/인가: `/user/me`, `/admin/**` 등에 JWT 인터셉터 적용, 관리자 인터셉터로 role=ADMIN만 접근 허용.
- 게시판: 게시글 CRUD, 조회수 증가, 게시글 이미지 다건 등록 지원(`board_image`), 작성자 이름 조인 조회.
- 댓글: 게시글별 댓글 조회/작성/수정/소프트삭제.
- 파일 업로드: `POST /board-api/upload`로 `C:/nutricare_images/` 저장 후 `/images/{파일}` URL 반환, 정적 리소스 핸들러로 서빙.
- DB 스키마: `res/sql.sql`에 user/health_profile/photo/analysis_result/diet_recommendation/diet_meal/board/comment/board_image 테이블 정의.

## 확인된 이슈·위험 요소
- API 매핑: `BoardController` 삭제 API 경로 변수 오타(`{baordId}` vs `boardId`), 수정 API PathVariable 미사용으로 ID 누락 가능성(현재 수정 완료 상태 확인됨).
- 기능 미완: 건강/식단 테이블에 대응하는 코드/엔드포인트 부재.
- 파일 업로드: 로컬 절대경로 고정(`C:/nutricare_images/`), 운영/로컬 프로필 분리 필요.
- 테스트 부족: 기본 `contextLoads` 외 통합/단위 테스트 없음.
- 보안/유효성: JWT 리프레시·블랙리스트 미구현, 회원가입 이메일/입력 검증은 DB 제약 외 추가 로직 없음.

## 다음에 하면 좋을 작업
- 건강/식단 도메인 DTO/서비스/컨트롤러 설계 및 구현.
- 파일 업로드 경로를 설정/프로필별로 분리하고 환경 변수화.
- JWT 갱신·로그아웃 처리, 작성자 검증(게시글·댓글 수정/삭제) 로직 보완.
- 통합/단위 테스트 추가 및 DB 초기화 스크립트 자동화.
- API 매핑/권한 검증 등 기존 엔드포인트 재점검.

## 진행 메모
- [2025-11-25 17:08] BoardController 수정: 게시글 수정/삭제 API PathVariable 이름을 `boardId`로 통일, 수정 시 경로 ID를 바디에 주입하도록 수정(검수 완료).
- [2025-11-25 17:08] 요청에 따라 `@Operation` 관련 빌드 오류 항목은 진행상황 기록에서 제외하고 관여하지 않음.
